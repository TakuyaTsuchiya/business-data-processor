
  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8502
  Network URL: http://192.168.1.3:8502

2025-09-07 23:28:39 - services.sms - INFO - 処理開始 - ミライルSMS契約者 - 12,833,283 bytes
2025-09-07 23:28:40 - services.sms - ERROR - エラー - ミライルSMS契約者: MIRAIL contractSMS処理エラー: unsupported operand type(s) for -: 'str' and 'int'
Traceback (most recent call last):
  File "/Users/tchytky/Desktop/business-data-processor/processors/sms_unified.py", line 326, in process_sms
    df_filtered = self.apply_filters(df_input, system, target, payment_deadline_str)
  File "/Users/tchytky/Desktop/business-data-processor/processors/sms_unified.py", line 144, in apply_filters
    self.logs.append(DetailedLogger.log_filter_result(
  File "/Users/tchytky/Desktop/business-data-processor/processors/common/detailed_logger.py", line 42, in log_filter_result
    excluded = before_count - after_count
TypeError: unsupported operand type(s) for -: 'str' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tchytky/Desktop/business-data-processor/services/sms.py", line 29, in process_mirail_sms_contract_data
    results = processor.process_sms(file_content, "mirail", "contract", payment_deadline_date)
  File "/Users/tchytky/Desktop/business-data-processor/processors/sms_unified.py", line 349, in process_sms
    raise Exception(error_msg)
Exception: MIRAIL contractSMS処理エラー: unsupported operand type(s) for -: 'str' and 'int'
2025-09-07 23:41:10 - services.sms - INFO - 処理開始 - ミライルSMS契約者 - 12,833,283 bytes
2025-09-07 23:41:11 - services.sms - INFO - 処理完了 - ミライルSMS契約者 - 1304件
2025-09-08 00:20:46 - services.sms - INFO - 処理開始 - ミライルSMS契約者 - 12,833,283 bytes
/Users/tchytky/Desktop/business-data-processor/infrastructure/encoding_handler.py:56: DtypeWarning: Columns (1) have mixed types. Specify dtype option on import or set low_memory=False.
  df = pd.read_csv(
2025-09-08 00:22:56 - services.sms - INFO - 処理開始 - ミライルSMS保証人 - 12,833,283 bytes
/Users/tchytky/Desktop/business-data-processor/infrastructure/encoding_handler.py:56: DtypeWarning: Columns (1) have mixed types. Specify dtype option on import or set low_memory=False.
  df = pd.read_csv(
2025-09-08 00:51:20 - services.sms - INFO - 処理開始 - ミライルSMS保証人 - 12,833,283 bytes
2025-09-08 00:52:13 - services.sms - INFO - 処理開始 - ミライルSMS緊急連絡先 - 12,833,283 bytes
2025-09-08 00:53:16 - services.sms - INFO - 処理開始 - フェイスSMS契約者 - 12,833,283 bytes
2025-09-08 00:54:29 - services.sms - INFO - 処理開始 - フェイスSMS保証人 - 12,833,283 bytes
2025-09-08 00:55:00 - services.sms - INFO - 処理開始 - プラザSMS契約者 - 685,291 bytes
2025-09-08 00:55:00 - services.sms - ERROR - エラー - プラザSMS契約者: プラザSMS契約者処理エラー: a bytes-like object is required, not 'datetime.date'
Traceback (most recent call last):
  File "/Users/tchytky/Desktop/business-data-processor/processors/plaza_sms/contract.py", line 42, in process_plaza_sms_contract_data
    callcenter_df = read_csv_auto_encoding(callcenter_file_content, dtype=str)
  File "/Users/tchytky/Desktop/business-data-processor/infrastructure/encoding_handler.py", line 129, in read_csv_auto_encoding
    return default_handler.read_csv_auto_encoding(content, **pandas_kwargs)
  File "/Users/tchytky/Desktop/business-data-processor/infrastructure/encoding_handler.py", line 57, in read_csv_auto_encoding
    io.BytesIO(content),
TypeError: a bytes-like object is required, not 'datetime.date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tchytky/Desktop/business-data-processor/services/sms.py", line 119, in process_plaza_sms_contract_data
    df_japanese, df_foreign, logs, filename_japanese, filename_foreign, stats = original_process(
  File "/Users/tchytky/Desktop/business-data-processor/processors/plaza_sms/contract.py", line 277, in process_plaza_sms_contract_data
    raise Exception(f"プラザSMS契約者処理エラー: {str(e)}")
Exception: プラザSMS契約者処理エラー: a bytes-like object is required, not 'datetime.date'
2025-09-08 10:16:31 - services.sms - INFO - 処理開始 - プラザSMS契約者 - 685,291 bytes
2025-09-08 10:16:31 - services.sms - ERROR - エラー - プラザSMS契約者: プラザSMS契約者処理エラー: a bytes-like object is required, not 'datetime.date'
Traceback (most recent call last):
  File "/Users/tchytky/Desktop/business-data-processor/processors/plaza_sms/contract.py", line 42, in process_plaza_sms_contract_data
    callcenter_df = read_csv_auto_encoding(callcenter_file_content, dtype=str)
  File "/Users/tchytky/Desktop/business-data-processor/infrastructure/encoding_handler.py", line 129, in read_csv_auto_encoding
    return default_handler.read_csv_auto_encoding(content, **pandas_kwargs)
  File "/Users/tchytky/Desktop/business-data-processor/infrastructure/encoding_handler.py", line 57, in read_csv_auto_encoding
    io.BytesIO(content),
TypeError: a bytes-like object is required, not 'datetime.date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tchytky/Desktop/business-data-processor/services/sms.py", line 119, in process_plaza_sms_contract_data
    df_japanese, df_foreign, logs, filename_japanese, filename_foreign, stats = original_process(
  File "/Users/tchytky/Desktop/business-data-processor/processors/plaza_sms/contract.py", line 277, in process_plaza_sms_contract_data
    raise Exception(f"プラザSMS契約者処理エラー: {str(e)}")
Exception: プラザSMS契約者処理エラー: a bytes-like object is required, not 'datetime.date'
  Stopping...
